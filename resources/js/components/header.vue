<script setup>
import { Link } from '@inertiajs/vue3';
import gsap from 'gsap';
import { onMounted } from 'vue';
import { useWalletModalStore } from '../stores/walletModalStore';

const walletModal = useWalletModalStore();


onMounted(() => {
    const headerImage = document.querySelector('[data-header-animate]');
    if (!headerImage) return;

    gsap.from(headerImage, {
        autoAlpha: 0,
        y: -16,
        x: -3,
        scale: 0.98,
        transformOrigin: '50% 50%',
        duration: 0.6,
        ease: 'power3.out',
        delay: 0.08,
        clearProps: 'transform',
    });
});
</script>

<template>
    <header class="flex w-full items-baseline justify-between p-2.5 pb-1.5">
        <img
            src="assets/img/emerald-rotate.png"
            class="absolute -top-1.5 -left-2 size-[25px]"
            alt=""
            data-header-animate
        />
        <Link href="/" class="relative z-10">
            <svg
                width="148"
                height="23"
                viewBox="0 0 148 23"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6.71999 13.44V22.4H-6.07967e-06V0H6.71999V4.48H8.95999V8.96H13.44V4.48H15.68V0H22.4V22.4H15.68V13.44H13.44V17.92H8.95999V13.44H6.71999ZM25.5937 22.4V0H32.3137V22.4H25.5937ZM42.22 13.44V22.4H35.5V0H42.22V4.48H44.46V8.96H46.7V0H53.42V22.4H46.7V17.92H44.46V13.44H42.22ZM63.345 13.44V17.92H72.305V22.4H56.625V0H72.305V4.48H63.345V8.96H70.065V13.44H63.345ZM75.5 22.4V0H88.94V2.24H91.18V20.16H88.94V22.4H75.5ZM84.46 17.92V4.48H82.22V17.92H84.46ZM94.375 22.4V0H110.055V8.96H107.815V11.2H110.055V22.4H103.335V13.44H101.095V22.4H94.375ZM103.335 8.96V4.48H101.095V8.96H103.335ZM113.25 22.4V0H128.93V22.4H113.25ZM122.21 17.92V4.48H119.97V17.92H122.21ZM132.125 22.4V0H147.805V13.44H138.845V22.4H132.125ZM141.085 8.96V4.48H138.845V8.96H141.085Z"
                    fill="white"
                />
            </svg>
        </Link>
        <div class="flex items-center gap-2.5">
            <button
                class="main-btn flex items-center gap-3.5 rounded-sm p-1.5 pr-4 text-xs text-white"
                type="button"
                @click="walletModal.open()"
            >
                <div class="rounded-sm bg-[#171717] p-1">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                    >
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M14.0667 5.336C14.0289 5.33378 13.9887 5.33289 13.946 5.33333H12.2627C10.884 5.33333 9.70468 6.41867 9.70468 7.83333C9.70468 9.248 10.8847 10.3333 12.2627 10.3333H13.946C13.9887 10.3338 14.0291 10.3329 14.0673 10.3307C14.3507 10.3136 14.6182 10.1941 14.8199 9.99439C15.0217 9.79471 15.144 9.52849 15.164 9.24533C15.1667 9.20533 15.1667 9.162 15.1667 9.122V6.54467C15.1667 6.50467 15.1667 6.46133 15.164 6.42133C15.144 6.13817 15.0217 5.87196 14.8199 5.67228C14.6182 5.4726 14.35 5.35308 14.0667 5.336ZM12.1153 8.5C12.47 8.5 12.7573 8.20133 12.7573 7.83333C12.7573 7.46533 12.47 7.16667 12.1153 7.16667C11.76 7.16667 11.4727 7.46533 11.4727 7.83333C11.4727 8.20133 11.76 8.5 12.1153 8.5Z"
                            fill="white"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M13.9453 11.3333C13.9684 11.3324 13.9913 11.3369 14.0123 11.3465C14.0333 11.3561 14.0517 11.3706 14.066 11.3886C14.0804 11.4067 14.0903 11.4279 14.0949 11.4505C14.0995 11.4731 14.0988 11.4964 14.0927 11.5187C13.9593 11.9933 13.7467 12.3987 13.406 12.7387C12.9067 13.2387 12.274 13.4593 11.4927 13.5647C10.7327 13.6667 9.76268 13.6667 8.53734 13.6667H7.12934C5.90401 13.6667 4.93334 13.6667 4.17401 13.5647C3.39268 13.4593 2.76001 13.238 2.26068 12.7393C1.76201 12.24 1.54068 11.6073 1.43534 10.826C1.33334 10.066 1.33334 9.096 1.33334 7.87067V7.796C1.33334 6.57067 1.33334 5.6 1.43534 4.84C1.54068 4.05867 1.76201 3.426 2.26068 2.92667C2.76001 2.428 3.39268 2.20667 4.17401 2.10133C4.93401 2 5.90401 2 7.12934 2H8.53734C9.76268 2 10.7333 2 11.4927 2.102C12.274 2.20733 12.9067 2.42867 13.406 2.92733C13.7467 3.26867 13.9593 3.67333 14.0927 4.148C14.0988 4.17025 14.0995 4.19362 14.0949 4.21621C14.0903 4.23881 14.0804 4.26 14.066 4.27805C14.0517 4.29611 14.0333 4.31053 14.0123 4.32013C13.9913 4.32974 13.9684 4.33426 13.9453 4.33333H12.2627C10.3713 4.33333 8.70468 5.82667 8.70468 7.83333C8.70468 9.84 10.3713 11.3333 12.2627 11.3333H13.9453ZM3.83334 4.66667C3.70074 4.66667 3.57356 4.71935 3.47979 4.81311C3.38602 4.90688 3.33334 5.03406 3.33334 5.16667C3.33334 5.29927 3.38602 5.42645 3.47979 5.52022C3.57356 5.61399 3.70074 5.66667 3.83334 5.66667H6.50001C6.63262 5.66667 6.75979 5.61399 6.85356 5.52022C6.94733 5.42645 7.00001 5.29927 7.00001 5.16667C7.00001 5.03406 6.94733 4.90688 6.85356 4.81311C6.75979 4.71935 6.63262 4.66667 6.50001 4.66667H3.83334Z"
                            fill="white"
                        />
                    </svg>
                </div>
                100.00
            </button>
            <img src="assets/img/user.png" class="size-11" alt="" />
        </div>
    </header>
</template>
